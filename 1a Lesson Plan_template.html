<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Course Information</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --primary: #0052cc;
      --primary-light: #e6f0ff;
      --bg: #f7f7fb;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
      --radius-lg: 14px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 35px rgba(15, 23, 42, 0.14);

      --module-color-a: #2563eb;
      --module-color-b: #16a34a;

      /* Special (yellow) */
      --special-bg: #fef9c3;
      --special-border: #eab308;

      --exam-bg: #fef2f2;
      --exam-border: #b91c1c;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      padding: 16px;
    }

    .page { max-width: 900px; margin: 0 auto; }

    /* ===== HEADER ===== */

    .header-card {
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 16px 18px 14px;
      margin-bottom: 14px;
      border-top: 5px solid var(--primary);
    }

    .institution {
      text-transform: uppercase;
      font-size: 0.78rem;
      letter-spacing: 0.09em;
      color: var(--muted);
      font-weight: 600;
      margin-bottom: 2px;
    }

    .school-line {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .course-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .course-meta {
      font-size: 0.86rem;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 6px 10px;
      align-items: center;
    }

    .badge {
      padding: 2px 7px;
      border-radius: 999px;
      background: #f3f4f6;
      font-size: 0.75rem;
      color: var(--muted);
    }

    .pill {
      display: inline-flex;
      align-items: center;
      padding: 3px 9px;
      border-radius: 999px;
      background: var(--primary-light);
      color: var(--primary);
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      user-select: none;
    }

    .pill-outline {
      background: #ffffff;
      border: 1px solid var(--primary-light);
      color: var(--primary);
    }

    .pill-active {
      background: var(--primary);
      color: #ffffff;
    }

    .pill + .pill {
      margin-left: 6px;
    }

    /* Links in header badges */
    .faculty-link,
    .course-link {
      color: inherit;
      text-decoration: none;
      display: inline-block;
    }

    .faculty-link:hover,
    .course-link:hover {
      text-decoration: underline;
    }

    /* ===== SUMMARY (for Lesson Plan tab) ===== */

    .summary-bar {
      margin-bottom: 10px;
      font-size: 0.78rem;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 6px;
    }

    .summary-item {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 3px 7px;
      border-radius: 999px;
      background: #f9fafb;
      border: 1px solid var(--border);
    }

    /* ===== GENERIC CARD ===== */

    .card {
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 10px 10px 10px;
    }

    .card-title {
      font-weight: 650;
      font-size: 1rem;
      margin-bottom: 8px;
    }

    /* ===== LESSON PLAN VIEW ===== */

    .header-row {
      display: grid;
      grid-template-columns: 90px minmax(0, 1fr);
      gap: 4px; /* reduced gap between columns */
      padding: 4px 10px;
      font-size: 0.78rem;
      color: var(--muted);
      border-bottom: 1px solid var(--border);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      text-align: center;
    }

    .lesson-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
      margin-bottom: 4px;
    }

    .lesson-row {
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      padding: 6px 10px;
      display: grid;
      grid-template-columns: 90px minmax(0, 1fr); /* narrower index column, minimal gap */
      gap: 4px;
      align-items: center;
      background: #ffffff;
    }

    .lesson-index-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center; /* center align class number and meta under it */
      gap: 2px;
      text-align: center;
    }

    .lesson-index {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--muted);
      min-width: 24px;
      min-height: 24px;
      padding: 2px;
      border: 1px solid var(--border);
      border-radius: 4px;      /* use 0 for a perfect square corner */
      display: flex;
      align-items: center;
      justify-content: center; /* centers the number inside the box */
      box-sizing: border-box;
      background: #ffffff;
    }

    .lesson-meta {
      display: flex;
      flex-direction: column;
      gap: 0;
      font-size: 0.68rem; /* reduced by ~2pt equivalent from ~0.8rem */
      color: var(--muted);
      line-height: 1.1;
    }

    .lesson-meta-date {
      font-weight: 500;
    }

    .lesson-meta-time {
      font-style: italic;
    }

    .lesson-module {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0; /* allow flex children to shrink and ellipsis */
    }

    .module-tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 600;
      color: #ffffff;
      white-space: nowrap;
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis; /* trim module name if it crosses container */
    }

    .module-a { background: var(--module-color-a); }
    .module-b { background: var(--module-color-b); }

    .special-tag {
      background: var(--special-bg);
      color: #854d0e;
      border: 1px solid var(--special-border);
    }

    .lesson-notes {
      font-size: 0.78rem;
      color: var(--muted);
    }

    .lesson-row.special {
      border-color: var(--special-border);
      background: var(--special-bg);
    }

    .lesson-row.exam {
      border-color: var(--exam-border);
      background: var(--exam-bg);
    }

    .exam-title {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .exam-range {
      font-size: 0.78rem;
      color: var(--muted);
    }

    .exam-badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 7px;
      border-radius: 999px;
      font-size: 0.72rem;
      font-weight: 600;
      background: #fee2e2;
      color: var(--exam-border);
      margin-top: 4px;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 0.75rem;
      color: var(--muted);
      text-align: right;
    }

    /* ===== OUTCOMES VIEW ===== */

    .outcomes-view {
      display: none;
      font-size: 0.9rem;
      color: var(--text);
    }

    .outcomes-view p {
      font-size: 0.9rem;
      margin-bottom: 6px;
    }

    .outcomes-view ul {
      padding-left: 18px;
      margin-bottom: 8px;
    }

    .outcomes-view ol {
      padding-left: 18px;
      margin-bottom: 8px;
    }

    .outcomes-section {
      padding: 8px 10px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #f9fafb;
      margin-bottom: 8px;
    }

    .outcomes-section-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .outcomes-highlight {
      font-weight: 600;
    }

    /* ===== SYLLABUS VIEW ===== */

    .syllabus-view {
      display: none;
      font-size: 0.9rem;
      color: var(--text);
    }

    .syllabus-section {
      padding: 8px 10px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #f9fafb;
      margin-bottom: 8px;
    }

    .syllabus-section-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .syllabus-view ul {
      padding-left: 18px;
      margin-bottom: 6px;
    }

    .syllabus-tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 0.75rem;
      background: #e0f2fe;
      color: #075985;
      margin-bottom: 4px;
    }

    /* ===== EVALUATION VIEW ===== */

    .evaluation-view {
      display: none;
      font-size: 0.9rem;
      color: var(--text);
    }

    .evaluation-table-wrapper {
      overflow-x: auto;
      margin-top: 6px;
    }

    table.evaluation-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }

    table.evaluation-table th,
    table.evaluation-table td {
      border: 1px solid #d1d5db;
      padding: 6px 8px;
      text-align: center;
    }

    table.evaluation-table th {
      background: #0ea5e9;
      color: #ffffff;
      font-weight: 600;
    }

    table.evaluation-table th[colspan] {
      background: #0284c7;
    }

    table.evaluation-table td {
      background: #f9fafb;
    }

    table.evaluation-table tr:nth-child(even) td {
      background: #e5f3fb;
    }

    .eval-title {
      text-align: center;
      font-weight: 700;
      color: #1d4ed8;
      margin-bottom: 8px;
      font-size: 1rem;
    }

    .eval-note {
      margin-top: 8px;
      font-size: 0.8rem;
      color: #6b7280;
    }

    /* ===== ACTIVITY CALENDAR (inside Evaluation) ===== */

    .activity-calendar {
      margin-top: 14px;
      padding: 10px 10px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #f9fafb;
      font-size: 0.85rem;
      color: var(--text);
    }

    .activity-calendar-title {
      font-weight: 650;
      font-size: 0.95rem;
      margin-bottom: 6px;
      color: #b91c1c;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .activity-calendar-description {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .activity-item {
      padding: 6px 0;
      border-top: 1px dashed #d1d5db;
    }

    .activity-item:first-of-type {
      border-top: none;
    }

    .activity-item-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 4px;
      font-weight: 600;
      font-size: 0.86rem;
    }

    .activity-item-label {
      color: #1f2937;
    }

    .activity-item-marks {
      color: #b91c1c;
      font-size: 0.8rem;
    }

    .activity-item-body {
      margin-top: 2px;
      font-size: 0.82rem;
      color: var(--muted);
    }

    .activity-item-meta {
      margin-top: 3px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 0.78rem;
      color: #4b5563;
    }

    .activity-meta-tag {
      padding: 2px 6px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
    }

    .activity-meta-date {
      padding: 2px 6px;
      border-radius: 999px;
      background: #ecfeff;
      color: #0369a1;
    }

    @media (max-width: 600px) {
      .header-row { font-size: 0.7rem; grid-template-columns: 80px minmax(0, 1fr); }
      .lesson-row { font-size: 0.85rem; grid-template-columns: 80px minmax(0,1fr); }
      .lesson-index { font-size: 0.85rem; }
      .lesson-meta { font-size: 0.64rem; }
      .course-meta { gap: 4px 6px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- HEADER -->
    <header class="header-card">
      <div class="institution" id="instName"></div>
      <div class="school-line" id="schoolLine"></div>
      <span class="badge" id="semester"></span>
      <span class="badge" id="courseCode"></span>
      <div class="course-title" id="courseTitle"></div>

      <div class="course-meta">
        <!-- faculty clickable -->
        <span class="badge" id="faculty"></span><br>

        <!-- TABS -->
        <span class="pill pill-active" id="tabLessonPlan">Lesson Plan</span>
        <span class="pill pill-outline" id="tabSyllabus">Syllabus</span>
        <span class="pill pill-outline" id="tabOutcomes">Outcomes</span>
        <span class="pill pill-outline" id="tabEvaluation">Evaluation</span>
      </div>
    </header>

    <!-- SUMMARY (only for Lesson Plan) -->
    <section class="summary-bar" id="summaryBar"></section>

    <!-- MAIN CARD WITH VIEWS -->
    <main class="card">
      <!-- LESSON PLAN VIEW -->
      <div id="lessonPlanView">
        <div class="card-title">Detailed Lesson Plan</div>
        <div class="header-row">
          <div>Class</div>
          <div>Topic Covered</div>
        </div>
        <ul class="lesson-list" id="lessonList"></ul>
      </div>

      <!-- OUTCOMES VIEW (auto-generated from config) -->
      <div id="outcomesView" class="outcomes-view">
        <section class="outcomes-section">
          <div class="outcomes-section-title">Course Objective</div>
          <p id="courseObjective"></p>
        </section>

        <section class="outcomes-section">
          <div class="outcomes-section-title">Course Outcomes (COs)</div>
          <p>Upon completion of the course, the students will be able to:</p>
          <ul id="courseOutcomesList"></ul>
        </section>

        <section class="outcomes-section">
          <div class="outcomes-section-title">Programme Outcomes</div>
          <ol id="programmeOutcomesList"></ol>
        </section>
      </div>

      <!-- SYLLABUS VIEW (auto-generated from config) -->
      <div id="syllabusView" class="syllabus-view">
        <section class="syllabus-section">
          <div class="syllabus-section-title">Course Details</div>
          <ul id="courseDetailsList"></ul>
        </section>

        <br><div class="card-title">Syllabus</div>
        <div id="syllabusModulesContainer"></div>

        <br>
        <div class="card-title">Books</div>

        <section class="syllabus-section">
          <div class="syllabus-section-title">Text Books</div>
          <ul id="textBooksList"></ul>
        </section>
        <section class="syllabus-section">
          <div class="syllabus-section-title">Reference Books</div>
          <ul id="refBooksList"></ul>
        </section>
      </div>

      <!-- EVALUATION VIEW -->
      <div id="evaluationView" class="evaluation-view">
        <div class="eval-title">Evaluation Plan</div>
        <div class="evaluation-table-wrapper">
          <table class="evaluation-table">
            <thead>
              <tr>
                <th rowspan="2">S.No</th>
                <th rowspan="2">Evaluation Component</th>
                <th rowspan="2">Course Module</th>
                <th rowspan="2">Lecture No.</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Activity Based Learning<br>(30 Marks)</td>
                <td>M1 to M5</td>
                <td>1 to 26</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Mid Sem Examination<br>(20 Marks)</td>
                <td>M1 to M2</td>
                <td>1 to 14</td>
              </tr>
              <tr>
                <td>3</td>
                <td>End Sem Examination<br>(50 Marks)</td>
                <td>M1 to M5</td>
                <td>1 to 26</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p class="eval-note">
          Note: Please Check the activity calendar below.
        </p>
        <!-- Activity Calendar will be injected here -->
        <div id="activityCalendarContainer" class="activity-calendar"></div>
      </div>
    </main>

    <div class="footer-note">
      Contact the concerned faculty for further clarifications.
    </div>
  </div>

  <script>
    /* ========== 1. CONFIG – EDIT THIS BLOCK ONLY ========== */

    const config = {
      // ===== ACTIVITY CALENDAR (generic, reusable) =====
      activityCalendar: {
        title: "Activity Calendar",
        description:
          "",
        activities: [
          {
            activityLabel: "Activity 1",
            mode: "Online quiz test",
            details: "Pre-midsem first quiz test",
            courseOutcomes: ["CO1 - CO3"],
            assignedFrom: "09.01.26",
            assignedTo: "16.01.26",
            marks: 5
          },
          {
            activityLabel: "Activity 2",
            mode: "Assignment",
            details:
              "Pre-midsem first assignment",
            courseOutcomes: ["CO1 - CO3"],
            assignedFrom: "31.01.26",
            assignedTo: "31.01.26",
            marks: 5
          },
          {
            activityLabel: "Activity 3",
            mode: "Online quiz test",
            details: "Post-midsem second quiz test",
            courseOutcomes: ["CO4 - CO6"],
            assignedFrom: "27.02.26",
            assignedTo: "06.03.26",
            marks: 5
          },
          {
            activityLabel: "Activity 4",
            mode: "Assignment",
            details: "Post-midsem second assignment",
            courseOutcomes: ["CO4 - CO6"],
            assignedFrom: "20.03.26",
            assignedTo: "27.03.26",
            marks: 5
          },
          {
            activityLabel: "Activity 5",
            mode: null,
            details:
              "Report submission on Case study by Poster Presentation and ppt presentation deposite in google classroom",
            courseOutcomes: ["CO1 - CO6"],
            assignedFrom: null,
            assignedTo: null,
            marks: 10
          }
        ]
      },


      // ===== BASIC COURSE DETAILS =====
      instituteName: "Kalinga Institute of Industrial Technology, Bhubaneswar",
      schoolLine: "(Deemed to be University)",
      planLabel: "Lesson Plan",
      semester: "Spring Sem 2025–2026",

      faculty: "Prof.Thotakura NSC Sekhar",

      courseTitle: "Industry 4.0 Technologies",
      courseCode: "EX20001",


      facultylink: "https://my.e-kard.in/sekhar",
      courselink: "https://classroom.google.com/c/ODMyMzU2MTkxNDQ5?cjc=jk43prgp",

      // Course meta
      courseMeta: {
        credits: 2,
        ltp: "2-0-0",
        prereq: "Nil"
      },

      // Course objective & outcomes
      courseObjective:
        "The current manufacturing industries and businesses are moving from the third industrial revolution of computers and automation to the fourth where automation becomes even smarter fueled by data analytic and artificial intelligence. This course is designed to offer learners an introduction to the use of the Internet and Digital technology for better manufacturing and business. Learners will gain deep insights into how smartness is being harnessed from data and appreciate what needs to be done to overcome some of the challenges.",

      courseOutcomes: [
        { id: "CO1", text: "Understand the key components and enablers of Industry 4.0 Technology." },
        { id: "CO2", text: "Appreciate the  AI core technologies  in Smart Industries, smart products and smart Services." },
        { id: "CO3", text: "Outline Smart Factory technologies and their role in an Industry 4.0 world." },
        { id: "CO4", text: "Outline IoT& IIOT technology and scope of implementing IoT in Industries and businesses." },
        { id: "CO5", text: "Comprehend distributed cyber-physical and digital manufacturing system." },
        { id: "CO6", text: "Demonstrate the opportunities, challenges brought about by Industry 4.0 and how organizations and individuals should prepare to reap the benefits.Economic growth ,Legal aspects etc." }
      ],

      // Holidays, dates, etc.
      holidays: [
        "25-12-2025",
        "01-04-2026"
      ],

      startDate: "03-12-2025",

      /*
        classDaysWithTime
        Format per entry: "Wed 4:30–6pm", "Fri 4:30–6pm"
        Day abbreviation must be first token (Mon/Tue/Wed/Thu/Fri/Sat/Sun).
      */
      classDaysWithTime: [
        "Wed 9–10am",
        "Fri 11–12pm"
      ],

      midSem: {
        title: "Mid Semester Examination",
        start: "02-02-2026",
        end:   "07-02-2026"
      },
      endSem: {
        title: "End Semester Examination",
        start: "13-04-2026",
        end:   "20-04-2026"
      },

      // ===== SYLLABUS (single source for modules) =====
      syllabus: {
        modules: [
          {
            id: "M1",
            tag: "M1 – Introduction",
            description:
              "The Fourth Industrial Revolution, Difference between conventional automation and Industry 4.0, Case Studies: Health, Agriculture, Manufacturing."
          },
          {
            id: "M2",
            tag: "M2 – Industry 4.0 and its components",
            description:
              "Internet of Things (IoT) & Industrial Internet of Things (IIoT), Internet of Services, Value chains in manufacturing companies, Digital Twins."
          },
          {
            id: "M3",
            tag: "M3 – Digital Manufacturing and Design",
            description:
              "Cyber Physical Systems and Next Generation sensors, Collaborative Platform and Product Life-cycle Management, Robotics and Automation."
          },
          {
            id: "M4",
            tag: "M4 – Industrial IoT",
            description:
              "Cloud Computing, Big Data Analytics, AI & ML, Virtual and Augmented Reality, Block-chain."
          },
          {
            id: "M5",
            tag: "M5 – Challenges & Opportunities in Industry 4.0",
            description:
              "A Digital Strategy alongside Resource Scarcity, Standards and Data security, Financing conditions, availability of skilled workers, Comprehensive broadband infra- structure, Legal framework, protection of corporate data, liability, handling personal data."
          }
        ],


        textBooks: [
          "Tech Trends of the 4th Industrial Revolution,by D. Pyo, , J. Hwang, , and Y. Yoon, PUBLISHER: Mercury Learning & Information.",
          "Understanding Industry 4. 0 : AI, the Internet of Things, and the Future of Work, by Bruno S. Sergi, Elena G. Popkova, Aleksei V. Bogoviz, and Tatiana N. Litvinova, Emerald Publishing Limited."
        ],
        referenceBooks: [
          "Introduction to IoT. Cambridge University Press, by S. Misra, A. Mukherjee, and A. Roy, 2020",
          "Emerging Technologies for Health and Medicine: Virtual Reality, Augmented Reality, Artificial Intelligence, Internet of Things, Robotics, Industry 4.0, Dac-Nhuong Le, Chung Van Le, Jolanda G.Tromp , Gia Nhu Nguyen, Wiley, ISBN: 978-1-119-50987-5, 2018",
          "Industry 4.0: The Industrial Internet of Things 1st ed. Edition by Alasdair Gilchrist"
        ]
      },

      // ===== LESSONS (use module IDs only) =====
      lessons: [
        { type: "special", label: "Introduction to Course" },

        { type: "class", module: "M1", notes: "Evolution of Industrial Revolutions, The Fourth Industrial Revolution" },
        { type: "class", module: "M1", notes: "Difference between conventional automation and Industry 4.0" },
        { type: "class", module: "M1", notes: "Case Studies: Health, Agriculture, Manufacturing" },

        { type: "class", module: "M2", notes: "Internet of Things (IoT)" },
        { type: "class", module: "M2", notes: "Industrial Internet of Things (IIoT)" },        
        { type: "class", module: "M2", notes: "Internet of Services, Value chains in manufacturing companies" },
        { type: "class", module: "M2", notes: "Digital Twins" },

        { type: "special", label: "Doubt Clearing Session" },

        { type: "class", module: "M3", notes: "Cyber Physical Systems and Next Generation sensors" },
        { type: "class", module: "M3", notes: "Cyber Physical Systems and Next Generation sensors" },
        { type: "class", module: "M3", notes: "Collaborative Platform and Product Life-cycle Management" },
        { type: "class", module: "M3", notes: "Robotics and Automation." },
        { type: "class", module: "M3", notes: "Robotics and Automation." },

        { type: "special", label: "Doubt Clearing Session" },
        { type: "special", label: "Discussion of previous year mid-sem questions" },

        { type: "exam_mid" },

        { type: "class", module: "M4", notes: "Cloud Computing" },
        { type: "class", module: "M4", notes: "Big Data Analytics" },
        { type: "class", module: "M4", notes: "AI & ML," },
        { type: "class", module: "M4", notes: "Virtual and Augmented Reality" },
        { type: "class", module: "M4", notes: "Block-chain" },
        { type: "class", module: "M4", notes: "Block-chain" },

        { type: "special", label: "Doubt Session & Revision" },
        

        { type: "class", module: "M5", notes: "A Digital Strategy alongside Resource Scarcity, Standards and Data security, Financing conditions" },
        { type: "class", module: "M5", notes: "A Digital Strategy alongside Resource Scarcity, Standards and Data security, Financing conditions" },
        { type: "class", module: "M5", notes: "availability of skilled workers, Comprehensive broadband infra- structure, " },
        { type: "class", module: "M5", notes: "Legal framework, protection of corporate data, liability" },
        { type: "class", module: "M5", notes: "Legal framework, protection of corporate data, liability" },
        { type: "class", module: "M5", notes: "handling personal data" },

        { type: "special", label: "Final Doubt Session & Revision" },

        { type: "exam_end" }
      ],

      programmeOutcomes: [
        {
          title: "Engineering knowledge:",
          text: "Apply the knowledge of mathematics, science, engineering fundamentals, and an engineering specialization to the solution of complex engineering problems."
        },
        {
          title: "Problem analysis:",
          text: "Identify, formulate, review research literature, and analyze complex engineering problems reaching substantiated conclusions using first principles of mathematics, natural sciences, and engineering sciences."
        },
        {
          title: "Design/development of solutions:",
          text: "Design solutions for complex engineering problems and design system components or processes that meet the specified needs with appropriate consideration for the public health and safety, and the cultural, societal, and environmental considerations."
        },
        {
          title: "Conduct investigations of complex problems:",
          text: "Use research-based knowledge and research methods including design of experiments, analysis and interpretation of data, and synthesis of the information to provide valid conclusions."
        },
        {
          title: "Modern tool usage:",
          text: "Create, select, and apply appropriate techniques, resources, and modern engineering and IT tools including prediction and modeling to complex engineering activities with an understanding of the limitations."
        },
        {
          title: "The engineer and society:",
          text: "Apply reasoning informed by the contextual knowledge to assess societal, health, safety, legal and cultural issues and the consequent responsibilities relevant to the professional engineering practice."
        },
        {
          title: "Environment and sustainability:",
          text: "Understand the impact of the professional engineering solutions in societal and environmental contexts, and demonstrate the knowledge of, and need for sustainable development."
        },
        {
          title: "Ethics:",
          text: "Apply ethical principles and commit to professional ethics and responsibilities and norms of the engineering practice."
        },
        {
          title: "Individual and team work:",
          text: "Function effectively as an individual, and as a member or leader in diverse teams, and in multidisciplinary settings."
        },
        {
          title: "Communication:",
          text: "Communicate effectively on complex engineering activities with the engineering community and with society at large, such as, being able to comprehend and write effective reports and design documentation, make effective presentations, and give and receive clear instructions."
        },
        {
          title: "Project management and finance:",
          text: "Demonstrate knowledge and understanding of the engineering and management principles and apply these to one’s own work, as a member and leader in a team, to manage projects and in multidisciplinary environments."
        },
        {
          title: "Life-long learning:",
          text: "Recognize the need for, and have the preparation and ability to engage in independent and life-long learning in the broadest context of technological change."
        },
        {
          title: "Demonstrate knowledge and hands-on competence",
          text: "in the area of characteristics, operations, analysis, design of Electrical Machines and their applications in industry and other fields."
        },
        {
          title: "Demonstrate knowledge of analysis, design and implementation",
          text: "of electrical circuits, electronic circuits, power electronic circuits, measurements, control systems in different electrical systems."
        },
        {
          title: "Enhance the knowledge in generation, transmission, distribution,",
          text: "protection of electric power, installation, operation and maintenance of power system components with respect to competitive tariff for economic project viability and climate change issues and to understand the need for renewable energy systems for developing clean energy and sustainable technologies."
        }
      ]
    };

    /* ========== 2. UTILITIES ========== */

    const dayMapShortToNum = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };

    function parseDDMMYYYY(str) {
      const [dd, mm, yyyy] = str.split("-");
      return new Date(parseInt(yyyy, 10), parseInt(mm, 10) - 1, parseInt(dd, 10));
    }

    function formatDateDDMMMYYYY(date) {
      const d = String(date.getDate()).padStart(2, "0");
      const months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
      const m = months[date.getMonth()];
      const y = date.getFullYear();
      return `${d}-${m}-${y}`;
    }

    function inRange(d, start, end) {
      return d.getTime() >= start.getTime() && d.getTime() <= end.getTime();
    }

    function makeHolidaySet(holidays) {
      const set = new Set();
      holidays.forEach(h => {
        const d = parseDDMMYYYY(h);
        set.add(d.toISOString().slice(0, 10));
      });
      return set;
    }

    function buildModuleColorMap(modulesMap) {
      const keys = Object.keys(modulesMap);
      const map = {};
      keys.forEach((key, idx) => {
        map[key] = (idx % 2 === 0) ? "module-a" : "module-b";
      });
      return map;
    }

    function buildModulesFromSyllabus(cfg) {
      const map = {};
      (cfg.syllabus.modules || []).forEach(m => {
        map[m.id] = m.tag;
      });
      return map;
    }

    /*
      Parse classDaysWithTime into:
      - classDays: array of numeric week days
      - dayTimeMap: { [weekdayNumber]: "Wed 4:30–6:00" }
      Expected string format: "Wed 4:30–6:00", "Fri 11–12", etc.
    */
    function parseClassDaysWithTime(list) {
      const classDays = [];
      const dayTimeMap = {};
      if (!Array.isArray(list)) return { classDays, dayTimeMap };

      list.forEach(entry => {
        if (typeof entry !== "string") return;
        const parts = entry.trim().split(/\s+/);
        if (!parts.length) return;
        const dayShort = parts[0];
        const dayNum = dayMapShortToNum[dayShort];
        if (dayNum == null) return;
        classDays.push(dayNum);
        const timeStr = entry.slice(dayShort.length).trim();
        const label = timeStr ? `${dayShort} ${timeStr}` : dayShort;
        dayTimeMap[dayNum] = label;
      });

      return { classDays, dayTimeMap };
    }

    /* ========== 3. SCHEDULE GENERATION ========== */

    function generateSchedule(cfg) {
      const lessonsOut = [];
      const startDate = parseDDMMYYYY(cfg.startDate);

      const parsed = parseClassDaysWithTime(cfg.classDaysWithTime || []);
      const classDays = parsed.classDays;          // numeric weekdays
      const dayTimeMap = parsed.dayTimeMap;       // weekday -> "Wed 4:30–6"

      const midStart = cfg.midSem?.start ? parseDDMMYYYY(cfg.midSem.start) : null;
      const midEnd   = cfg.midSem?.end   ? parseDDMMYYYY(cfg.midSem.end)   : null;
      const endStart = cfg.endSem?.start ? parseDDMMYYYY(cfg.endSem.start) : null;
      const endEnd   = cfg.endSem?.end   ? parseDDMMYYYY(cfg.endSem.end)   : null;

      const holidaysSet = makeHolidaySet(cfg.holidays || []);

      let currentDate = new Date(startDate);
      let idxLesson = 0;
      let classNumber = 0;
      let midInserted = false;
      let endInserted = false;

      function isHoliday(date) {
        const iso = date.toISOString().slice(0, 10);
        return holidaysSet.has(iso);
      }

      function nextValidClassDate(date) {
        const d = new Date(date);
        while (true) {
          const dayNum = d.getDay();
          const isClassDay = classDays.includes(dayNum);
          const insideMid = midStart && midEnd && inRange(d, midStart, midEnd);
          const insideEnd = endStart && endEnd && inRange(d, endStart, endEnd);
          if (isClassDay && !insideMid && !insideEnd && !isHoliday(d)) {
            return d;
          }
          d.setDate(d.getDate() + 1);
        }
      }

      while (idxLesson < cfg.lessons.length && idxLesson < 400) {
        const base = cfg.lessons[idxLesson];

        if (base.type === "exam_mid" && midStart && midEnd && !midInserted) {
          lessonsOut.push({
            type: "exam_mid",
            title: cfg.midSem.title,
            start: midStart,
            end: midEnd
          });
          midInserted = true;
          currentDate = new Date(midEnd);
          currentDate.setDate(currentDate.getDate() + 1);
          idxLesson++;
          continue;
        }

        if (base.type === "exam_end" && endStart && endEnd && !endInserted) {
          lessonsOut.push({
            type: "exam_end",
            title: cfg.endSem.title,
            start: endStart,
            end: endEnd
          });
          endInserted = true;
          currentDate = new Date(endEnd);
          currentDate.setDate(currentDate.getDate() + 1);
          idxLesson++;
          continue;
        }

        if (base.type === "class" || base.type === "special") {
          const nextDate = nextValidClassDate(currentDate);
          classNumber++;

          const weekdayNum = nextDate.getDay();
          const timeLabel = dayTimeMap[weekdayNum] || "";

          lessonsOut.push({
            type: base.type,
            classNo: classNumber,
            module: base.module || null,
            label: base.label || null,
            notes: base.notes || "",
            date: nextDate,
            timeLabel
          });

          currentDate = new Date(nextDate);
          currentDate.setDate(currentDate.getDate() + 1);
          idxLesson++;
          continue;
        }

        idxLesson++;
      }

      return { schedule: lessonsOut, dayTimeMap };
    }

    /* ========== 4. RENDERING: LESSON PLAN ========= */

    function renderLessonPlan(cfg) {
      document.getElementById("instName").textContent = cfg.instituteName;
      document.getElementById("schoolLine").textContent = cfg.schoolLine;
      document.getElementById("courseTitle").textContent = cfg.courseTitle;
      document.getElementById("semester").textContent = cfg.semester;

      // course code (single source with link from config)
      const codeEl = document.getElementById("courseCode");
      const codeHref = cfg.courselink || "#";
      codeEl.innerHTML = `
        <a
          href="${codeHref}"
          target="_blank"
          rel="noopener noreferrer"
          class="course-link"
        >
          ${cfg.courseCode}
        </a>
      `;

      // faculty from config (name + link)
      const facultyEl = document.getElementById("faculty");
      const facultyHref = cfg.facultylink || "#";
      facultyEl.innerHTML = `
        <a
          href="${facultyHref}"
          target="_blank"
          rel="noopener noreferrer"
          class="faculty-link"
        >
          ${cfg.faculty}
        </a>
      `;

      const { schedule, dayTimeMap } = generateSchedule(cfg);

      // build modules map from syllabus
      const modulesMap = buildModulesFromSyllabus(cfg);
      const moduleColorMap = buildModuleColorMap(modulesMap);

      const totalClasses = schedule.filter(s => s.type === "class" || s.type === "special").length;
      const specialCount = schedule.filter(s => s.type === "special").length;

      const summaryBar = document.getElementById("summaryBar");

      // Build a neat summary of day+time
      const dayTimeStrings = Object.values(dayTimeMap);
      const dayTimeSummary = dayTimeStrings.length
        ? dayTimeStrings.join(", ")
        : "See timetable";

      // Summary: X Regular + Y Special, plus schedule
      summaryBar.innerHTML = `
        <span class="summary-item"><strong>${totalClasses - specialCount}</strong> Regular + <strong>${specialCount}</strong> Special classes</span>
      `;

      const list = document.getElementById("lessonList");
      list.innerHTML = "";

      schedule.forEach(item => {
        const li = document.createElement("li");
        li.classList.add("lesson-row");

        const colIndexWrapper = document.createElement("div");
        colIndexWrapper.className = "lesson-index-wrapper";

        const colModule = document.createElement("div");
        colModule.className = "lesson-module";

        const indexDiv = document.createElement("div");
        indexDiv.className = "lesson-index";

        const metaDiv = document.createElement("div");
        metaDiv.className = "lesson-meta";

        const metaDate = document.createElement("div");
        metaDate.className = "lesson-meta-date";

        const metaTime = document.createElement("div");
        metaTime.className = "lesson-meta-time";

        if (item.type === "exam_mid" || item.type === "exam_end") {
          li.classList.add("exam");
          // Index as em dash
          indexDiv.textContent = "—";

          // Date range in meta-date, "EXAM" in meta-time
          metaDate.textContent = `${formatDateDDMMMYYYY(item.start)} – ${formatDateDDMMMYYYY(item.end)}`;
          metaTime.textContent = "EXAM";

          metaDiv.appendChild(metaDate);
          metaDiv.appendChild(metaTime);

          colIndexWrapper.appendChild(indexDiv);
          colIndexWrapper.appendChild(metaDiv);

          const title = document.createElement("div");
          title.className = "exam-title";
          title.textContent = item.title;

          const range = document.createElement("div");
          range.className = "exam-range";
          range.textContent = `${formatDateDDMMMYYYY(item.start)} – ${formatDateDDMMMYYYY(item.end)}`;

          colModule.appendChild(title);
          colModule.appendChild(range);

          const badge = document.createElement("span");
          badge.className = "exam-badge";
          badge.textContent = "EXAM";
          colModule.appendChild(badge);

          li.appendChild(colIndexWrapper);
          li.appendChild(colModule);
          list.appendChild(li);
          return;
        }

        if (item.type === "special") {
          li.classList.add("special");
        }

        // Regular / special lesson index
        indexDiv.textContent = item.classNo;

        const tag = document.createElement("span");
        tag.className = "module-tag";

        if (item.module && modulesMap[item.module]) {
          const colorClass = moduleColorMap[item.module] || "module-a";
          tag.classList.add(colorClass);
          tag.textContent = modulesMap[item.module];
        } else {
          tag.classList.add("special-tag");
          tag.textContent = item.label || "Special Class";
        }

        if (item.type === "special") {
          if (item.module && modulesMap[item.module]) {
            tag.textContent = `${modulesMap[item.module]} · ${item.label || "Special"}`;
          } else if (item.label) {
            tag.textContent = item.label;
          }
        }

        colModule.appendChild(tag);

        if (item.notes) {
          const notesDiv = document.createElement("div");
          notesDiv.className = "lesson-notes";
          notesDiv.textContent = item.notes;
          colModule.appendChild(notesDiv);
        }

        // Meta date and time under class index
        const dateStr = formatDateDDMMMYYYY(item.date);
        metaDate.textContent = dateStr;

        // If we have a time label, show it; otherwise, show weekday name
        let timeLabelToUse = item.timeLabel;
        if (!timeLabelToUse) {
          const weekdayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
          const weekdayShort = weekdayNames[item.date.getDay()];
          timeLabelToUse = weekdayShort;
        }
        metaTime.textContent = timeLabelToUse;

        metaDiv.appendChild(metaDate);
        metaDiv.appendChild(metaTime);

        colIndexWrapper.appendChild(indexDiv);
        colIndexWrapper.appendChild(metaDiv);

        li.appendChild(colIndexWrapper);
        li.appendChild(colModule);
        list.appendChild(li);
      });
    }

    /* ========== 5. RENDERING: SYLLABUS ========= */

    function renderSyllabus(cfg) {
      // course details
      const detailsEl = document.getElementById("courseDetailsList");
      detailsEl.innerHTML = `
        <li>Credits: ${cfg.courseMeta.credits}</li>
        <li>L-T-P: ${cfg.courseMeta.ltp}</li>
        <li>Pre-requisite: ${cfg.courseMeta.prereq}</li>
      `;

      // modules / syllabus tags from config.syllabus.modules
      const modulesContainer = document.getElementById("syllabusModulesContainer");
      modulesContainer.innerHTML = "";
      (cfg.syllabus.modules || []).forEach(m => {
        const sec = document.createElement("section");
        sec.className = "syllabus-section";
        sec.innerHTML = `
          <div class="syllabus-tag">${m.tag}</div><br>
          ${m.description}
        `;
        modulesContainer.appendChild(sec);
      });

      // books
      const textList = document.getElementById("textBooksList");
      textList.innerHTML = "";
      (cfg.syllabus.textBooks || []).forEach(b => {
        const li = document.createElement("li");
        li.textContent = b;
        textList.appendChild(li);
      });

      const refList = document.getElementById("refBooksList");
      refList.innerHTML = "";
      (cfg.syllabus.referenceBooks || []).forEach(b => {
        const li = document.createElement("li");
        li.textContent = b;
        refList.appendChild(li);
      });
    }

    /* ========== 6. RENDERING: OUTCOMES (Course + Programme) ========= */

    function renderOutcomes(cfg) {
      // Course objective
      document.getElementById("courseObjective").textContent = cfg.courseObjective;

      // Course outcomes
      const coList = document.getElementById("courseOutcomesList");
      coList.innerHTML = "";
      (cfg.courseOutcomes || []).forEach(co => {
        const li = document.createElement("li");
        li.innerHTML = `<span class="outcomes-highlight">${co.id}:</span> ${co.text}`;
        coList.appendChild(li);
      });

      // Programme outcomes
      const poList = document.getElementById("programmeOutcomesList");
      poList.innerHTML = "";
      (cfg.programmeOutcomes || []).forEach(po => {
        const li = document.createElement("li");
        if (po.title) {
          li.innerHTML = `<strong>${po.title}</strong> ${po.text}`;
        } else {
          li.textContent = po.text;
        }
        poList.appendChild(li);
      });
    }

    /* ========== 6a. RENDERING: ACTIVITY CALENDAR ========= */

    function renderActivityCalendar(cfg) {
      const container = document.getElementById("activityCalendarContainer");
      if (!container || !cfg.activityCalendar || !Array.isArray(cfg.activityCalendar.activities)) {
        return;
      }

      const { title, description, activities } = cfg.activityCalendar;

      let html = `
        <div class="activity-calendar-title">${title || "Activity Calendar"}</div>
      `;

      if (description) {
        html += `<div class="activity-calendar-description">${description}</div>`;
      }

      activities.forEach((act, index) => {
        const coText = (act.courseOutcomes || []).join(", ");
        let dateText = "";
        if (act.assignedFrom && act.assignedTo) {
          if (act.assignedFrom === act.assignedTo) {
            dateText = act.assignedFrom;
          } else {
            dateText = `${act.assignedFrom} – ${act.assignedTo}`;
          }
        }

        html += `
          <div class="activity-item">
            <div class="activity-item-header">
              <div class="activity-item-label">${act.activityLabel || ("Activity " + (index + 1))}</div>
              <div class="activity-item-marks">${act.marks != null ? act.marks + " Marks" : ""}</div>
            </div>
            <div class="activity-item-body">
              ${act.details || ""}
            </div>
            <div class="activity-item-meta">
              ${act.mode ? `<span class="activity-meta-tag">${act.mode}</span>` : ""}
              ${coText ? `<span class="activity-meta-tag">${coText}</span>` : ""}
              ${dateText ? `<span class="activity-meta-date">${dateText}</span>` : ""}
            </div>
          </div>
        `;
      });

      container.innerHTML = html;
    }

    /* ========== 7. TABS ========= */

    function initTabs() {
      const tabLessonPlan = document.getElementById("tabLessonPlan");
      const tabOutcomes   = document.getElementById("tabOutcomes");
      const tabSyllabus   = document.getElementById("tabSyllabus");
      const tabEvaluation = document.getElementById("tabEvaluation");

      const lessonPlanView = document.getElementById("lessonPlanView");
      const outcomesView   = document.getElementById("outcomesView");
      const syllabusView   = document.getElementById("syllabusView");
      const evaluationView = document.getElementById("evaluationView");
      const summaryBar     = document.getElementById("summaryBar");

      const allTabs  = [tabLessonPlan, tabOutcomes, tabSyllabus, tabEvaluation];
      const allViews = [lessonPlanView, outcomesView, syllabusView, evaluationView];

      function activateTab(tab, view, showSummary) {
        allTabs.forEach(t => {
          t.classList.remove("pill-active");
          t.classList.add("pill-outline");
        });
        tab.classList.add("pill-active");
        tab.classList.remove("pill-outline");

        allViews.forEach(v => v.style.display = "none");
        view.style.display = "block";

        summaryBar.style.display = showSummary ?
          "flex" : "none";
      }

      tabLessonPlan.addEventListener("click", () =>
        activateTab(tabLessonPlan, lessonPlanView, true));
      tabOutcomes.addEventListener("click", () =>
        activateTab(tabOutcomes, outcomesView, false));
      tabSyllabus.addEventListener("click", () =>
        activateTab(tabSyllabus, syllabusView, false));
      tabEvaluation.addEventListener("click", () =>
        activateTab(tabEvaluation, evaluationView, false));

      // Default
      activateTab(tabLessonPlan, lessonPlanView, true);
    }

    /* ========== 8. INIT ========== */

    renderLessonPlan(config);
    renderSyllabus(config);
    renderOutcomes(config);
    renderActivityCalendar(config);
    initTabs();
  </script>
</body>
</html>
